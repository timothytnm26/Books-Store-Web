@model Project8.Models.Data.Admin

@{
    ViewBag.Title = "AdminInfo";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Hồ sơ</h2>

<div>
    @if (ViewBag.Success != null)
    {
        <div id="thongBaoThanhCong" class="alert alert-success">@ViewBag.Success</div>
    }
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.TaiKhoan)
        </dt>

        <dd>
            <div class="col col-md-2">
                @Html.DisplayFor(model => model.TaiKhoan)
            </div>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.MatKhau)
        </dt>

        <dd>
            <div class="col col-md-2">
                @Html.EditorFor(model => model.MatKhau, new { htmlAttributes = new { @class = "form-control", @type = "password", @readonly = "readonly" } })
            </div>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.HoTen)
        </dt>

        <dd>
            <div class="col col-md-2">
                @Html.DisplayFor(model => model.HoTen)
            </div>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.TrangThai)
        </dt>

        <dd>
            @if (Model.TrangThai == true)
            {
                <div class="col col-md-2">
                    <p style="color:green">Kích hoạt</p>
                </div>
            }
            else
            {
                <div class="col col-md-2">
                    <p style="color:red">Tạm dừng</p>
                </div>
            }
        </dd>
    </dl>
    <button type="button" class="btn btn-primary" onclick="showInfoChange()">Sửa mật khẩu</button>
    <div id="infoChangeContainer">
        @using (Html.BeginForm("ChangeInfo", "Login", FormMethod.Post))
        {
            <div class="form-horizontal">
                <div class="form-group">
                    @Html.LabelFor(model => model.TaiKhoan, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.TaiKhoan, new { htmlAttributes = new { @class = "form-control",@readonly ="readonly" } })
                        @Html.ValidationMessageFor(model => model.TaiKhoan, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.HoTen, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.HoTen, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.HoTen, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.MatKhau, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.MatKhau, new { htmlAttributes = new { @class = "form-control", @type = "password", @value="" } })
                        @Html.ValidationMessageFor(model => model.MatKhau, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-3">Mật khẩu mới: <input type="password" class="form-control" placeholder="New Password" name="NewPass" /></div>
                    <div class="col-md-3">Nhập lại mật khẩu: <input type="password" class="form-control" placeholder="Confirm New Password" name="RePass" /></div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Cập nhật" class="btn btn-default" />
                    </div>
                </div>
            </div>
         }
        </div>
</div>
<style>
    #infoChangeContainer {
        display: none;
    }
    .active{
        display:block !important;
    }
</style>
<script>
    function showInfoChange() {
        document.getElementById("infoChangeContainer").classList.toggle('active');
    }
</script>
